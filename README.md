# Quickstart

## Install libs

```
npm i @opentelemetry/auto-instrumentations-node @opentelemetry/exporter-trace-otlp-http @opentelemetry/resources @opentelemetry/sdk-node @opentelemetry/semantic-conventions
```

## Create `tracer.ts`

This file is going to be responsible for tracing every request/fn execution and sending it to our collector.

To follow the same folder architecture that we have in our microservices, I've created a `infra/otel` directory in the `src` folder.

The `tracer.ts` file must look like [this](/src/infra/otel/tracer.ts).

## Create our constants

Since I must share this sample, I've added our constants to a file, but it can be stored as environment variables as well.

You'll find our constants in ["./src/infra/otel/tracer.ts"](/src/infra/otel/constants.ts).

## Initialize the tracing

Start our tracer in the Nestjs' bootstrap method. In this quickstart example, you'll find it on ["./src/main.ts"](/src/main.ts).

## What's next?

This sample is going to collect data from this application and send to the **collector** specified in the `OTEL_COLLECTOR_URL` constant.

There's plenty of tools that can be used a collectors. They come with dashboards to read all the dataset generated by OTEL. Some a paid, some are free, some have free-tier.

Rapha has done a pos/cons list of some dashboards.

In this quick sample, I've used **SigNoz** as the collector. You'll find a quick demo showing the navigation through the dashboard, checking the tracing for a call to the `GET /` endpoint of this app.

In the ["Installing SigNoz" section of this article](https://signoz.io/blog/opentelemetry-nestjs/#installing-signoz) you will find a very easy example of how to deploy SigNoz locally. This is exactly what I've done to set up this demo.

## Thoughts

- In the sample, we are only using the `AutoInstrumentation`, which is a very cool feature of open-telemetry. It will add tracing to most (all?) functions of our codebase. But you can manually add tracing to specific sections of your code. You can find more in the [OpenTelemetry documentation](https://opentelemetry.io/docs/instrumentation/js/getting-started/nodejs/).

### Sources

- [OpenTelemetry](https://opentelemetry.io/docs/instrumentation/js/getting-started/nodejs/)
- [Logz.io](https://logz.io/blog/nestjs-javascript-opentelemetry-auto-instrumentation)
- [Signoz](https://signoz.io/blog/opentelemetry-nestjs/)
